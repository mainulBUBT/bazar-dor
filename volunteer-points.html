<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#3B8C6E">
    <title>Volunteer Points - Bazar Dor</title>
    <link href="lib/bootstrap/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="lib/bootstrap-icons/bootstrap-icons.min.css">
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="css/theme.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="icon" type="image/png" sizes="192x192" href="icons/icon-192x192.png">
    <link rel="apple-touch-icon" href="icons/icon-192x192.png">
</head>

<body class="bg-light volunteer-points">
    <header class="app-header bg-primary">
        <div class="container">
            <div class="d-flex justify-content-between align-items-center py-2">
                <button class="btn text-white p-0" onclick="window.location.href='profile.html'">
                    <i class="bi bi-arrow-left fs-4"></i>
                </button>
                <h5 class="text-white mb-0">Volunteer Points</h5>
                <div>
                    <button class="btn text-white p-0 invisible">
                        <i class="bi bi-filter fs-4"></i>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <div class="container mt-3">
        <!-- Points Summary Card -->
        <div class="card border-0 shadow-sm mb-3">
            <div class="card-body">
                <div class="d-flex align-items-center justify-content-between mb-3">
                    <div class="d-flex align-items-center">
                        <div class="flex-shrink-0">
                            <div class="bd-stat-icon bg-success-light">
                                <i class="bi bi-award-fill text-success fs-4"></i>
                            </div>
                        </div>
                        <div class="ms-3">
                            <h6 class="mb-0 fw-medium">Total Points</h6>
                            <h3 class="mb-0 fw-bold text-success">28</h3>
                        </div>
                    </div>
                    <div class="tier-info position-relative">
                        <button class="btn btn-sm p-0 text-primary" type="button" data-bs-toggle="modal" data-bs-target="#tierInfoModal">
                            <i class="bi bi-info-circle-fill fs-5"></i>
                        </button>
                    </div>
                </div>
                <div class="progress" style="height: 8px;">
                    <div class="progress-bar bg-success" role="progressbar" style="width: 60%;" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100"></div>
                </div>
                <div class="d-flex justify-content-between mt-2 mb-3">
                    <small class="text-muted">Current Tier: Silver</small>
                    <small class="text-muted">12 points to Gold</small>
                </div>
                
                <div class="d-grid mt-3">
                    <button class="btn btn-success rounded-pill fw-medium" data-bs-toggle="modal" data-bs-target="#redeemModal">
                        <i class="bi bi-gift me-2"></i>Redeem Points
                    </button>
                </div>
            </div>
        </div>

        <!-- Points Earning Rules Card -->
        <div class="card border-0 shadow-sm mb-3">
            <div class="card-body">
                <h6 class="fw-bold mb-3">How to Earn Points</h6>
                <div class="point-rule d-flex align-items-center mb-2">
                    <div class="point-icon me-3 volunteer-primary-light">
                        <i class="bi bi-shop text-primary"></i>
                    </div>
                    <div class="flex-grow-1">
                        <p class="mb-0 fw-medium">Adding a new market</p>
                    </div>
                    <div class="point-value volunteer-success-light text-success fw-bold px-2 py-1 rounded">
                        +5 pts
                    </div>
                </div>
                <div class="point-rule d-flex align-items-center mb-2">
                    <div class="point-icon me-3 volunteer-primary-light">
                        <i class="bi bi-box-seam text-primary"></i>
                    </div>
                    <div class="flex-grow-1">
                        <p class="mb-0 fw-medium">Adding a product</p>
                    </div>
                    <div class="point-value volunteer-success-light text-success fw-bold px-2 py-1 rounded">
                        +4 pts
                    </div>
                </div>
                <div class="point-rule d-flex align-items-center mb-2">
                    <div class="point-icon me-3 volunteer-primary-light">
                        <i class="bi bi-star text-primary"></i>
                    </div>
                    <div class="flex-grow-1">
                        <p class="mb-0 fw-medium">High-quality review</p>
                    </div>
                    <div class="point-value volunteer-success-light text-success fw-bold px-2 py-1 rounded">
                        +2 pts
                    </div>
                </div>
                <div class="point-rule d-flex align-items-center mb-2">
                    <div class="point-icon me-3 volunteer-primary-light">
                        <i class="bi bi-flag text-primary"></i>
                    </div>
                    <div class="flex-grow-1">
                        <p class="mb-0 fw-medium">Approved report</p>
                    </div>
                    <div class="point-value volunteer-success-light text-success fw-bold px-2 py-1 rounded">
                        +3 pts
                    </div>
                </div>
                <div class="point-rule d-flex align-items-center">
                    <div class="point-icon me-3 volunteer-primary-light">
                        <i class="bi bi-people text-primary"></i>
                    </div>
                    <div class="flex-grow-1">
                        <p class="mb-0 fw-medium">Referring a friend</p>
                    </div>
                    <div class="point-value volunteer-success-light text-success fw-bold px-2 py-1 rounded">
                        +2 pts
                    </div>
                </div>
            </div>
        </div>

        <!-- Transaction History -->
        <div class="card border-0 shadow-sm mb-4">
            <div class="card-body">
                <h6 class="fw-bold mb-3">Transaction History</h6>
                
                <!-- Transaction Item -->
                <div class="transaction-item d-flex align-items-center mb-3">
                    <div class="transaction-icon me-3 volunteer-success-light">
                        <i class="bi bi-shop text-success"></i>
                    </div>
                    <div class="flex-grow-1">
                        <h6 class="mb-0 fw-medium">Added Downtown Farmers Market</h6>
                        <small class="text-muted">Mar 28, 2023</small>
                    </div>
                    <div class="transaction-points text-success fw-bold">
                        +5
                    </div>
                </div>
                
                <!-- Transaction Item -->
                <div class="transaction-item d-flex align-items-center mb-3">
                    <div class="transaction-icon me-3 volunteer-success-light">
                        <i class="bi bi-box-seam text-success"></i>
                    </div>
                    <div class="flex-grow-1">
                        <h6 class="mb-0 fw-medium">Added Organic Tomatoes</h6>
                        <small class="text-muted">Mar 25, 2023</small>
                    </div>
                    <div class="transaction-points text-success fw-bold">
                        +4
                    </div>
                </div>
                
                <!-- Transaction Item -->
                <div class="transaction-item d-flex align-items-center mb-3">
                    <div class="transaction-icon me-3 volunteer-success-light">
                        <i class="bi bi-flag text-success"></i>
                    </div>
                    <div class="flex-grow-1">
                        <h6 class="mb-0 fw-medium">Reported inappropriate content</h6>
                        <small class="text-muted">Mar 20, 2023</small>
                    </div>
                    <div class="transaction-points text-success fw-bold">
                        +3
                    </div>
                </div>
                
                <!-- Transaction Item -->
                <div class="transaction-item d-flex align-items-center mb-3">
                    <div class="transaction-icon me-3 volunteer-success-light">
                        <i class="bi bi-star text-success"></i>
                    </div>
                    <div class="flex-grow-1">
                        <h6 class="mb-0 fw-medium">Review on Riverside Craft Market</h6>
                        <small class="text-muted">Mar 15, 2023</small>
                    </div>
                    <div class="transaction-points text-success fw-bold">
                        +2
                    </div>
                </div>
                
                <!-- Transaction Item -->
                <div class="transaction-item d-flex align-items-center mb-3">
                    <div class="transaction-icon me-3 volunteer-success-light">
                        <i class="bi bi-box-seam text-success"></i>
                    </div>
                    <div class="flex-grow-1">
                        <h6 class="mb-0 fw-medium">Added Fresh Spices product</h6>
                        <small class="text-muted">Mar 10, 2023</small>
                    </div>
                    <div class="transaction-points text-success fw-bold">
                        +4
                    </div>
                </div>
                
                <!-- Transaction Item -->
                <div class="transaction-item d-flex align-items-center mb-3">
                    <div class="transaction-icon me-3 volunteer-success-light">
                        <i class="bi bi-people text-success"></i>
                    </div>
                    <div class="flex-grow-1">
                        <h6 class="mb-0 fw-medium">Referred Sarah Johnson</h6>
                        <small class="text-muted">Mar 5, 2023</small>
                    </div>
                    <div class="transaction-points text-success fw-bold">
                        +2
                    </div>
                </div>
                
                <!-- Transaction Item -->
                <div class="transaction-item d-flex align-items-center mb-3">
                    <div class="transaction-icon me-3 volunteer-success-light">
                        <i class="bi bi-star text-success"></i>
                    </div>
                    <div class="flex-grow-1">
                        <h6 class="mb-0 fw-medium">Review on Organic Food Market</h6>
                        <small class="text-muted">Mar 1, 2023</small>
                    </div>
                    <div class="transaction-points text-success fw-bold">
                        +2
                    </div>
                </div>
                
                <!-- Transaction Item -->
                <div class="transaction-item d-flex align-items-center">
                    <div class="transaction-icon me-3 volunteer-success-light">
                        <i class="bi bi-shop text-success"></i>
                    </div>
                    <div class="flex-grow-1">
                        <h6 class="mb-0 fw-medium">Added Organic Food Market</h6>
                        <small class="text-muted">Feb 25, 2023</small>
                    </div>
                    <div class="transaction-points text-success fw-bold">
                        +5
                    </div>
                </div>

                <!-- Pagination -->
                <nav class="mt-4" aria-label="Transaction history navigation">
                    <ul class="pagination pagination-sm justify-content-center mb-0">
                        <li class="page-item disabled">
                            <a class="page-link" href="#" tabindex="-1" aria-disabled="true">
                                <i class="bi bi-chevron-left"></i>
                            </a>
                        </li>
                        <li class="page-item active"><a class="page-link" href="#">1</a></li>
                        <li class="page-item"><a class="page-link" href="#">2</a></li>
                        <li class="page-item"><a class="page-link" href="#">3</a></li>
                        <li class="page-item">
                            <a class="page-link" href="#">
                                <i class="bi bi-chevron-right"></i>
                            </a>
                        </li>
                    </ul>
                </nav>
            </div>
        </div>

        <!-- Add extra spacing -->
        <div class="mb-5"></div>
    </div>

    <nav class="navbar fixed-bottom navbar-dark">
        <div class="container-fluid justify-content-center p-0">
            <ul class="navbar-nav flex-row bottom-nav profile-bottom-nav">
                <li class="nav-item">
                    <a class="nav-link" href="index.html">
                        <i class="bi bi-house"></i>
                        <span class="nav-label">Home</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="markets.html">
                        <i class="bi bi-shop"></i>
                        <span class="nav-label">Markets</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="favorites.html">
                        <i class="bi bi-heart"></i>
                        <span class="nav-label">Favorites</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link active" href="profile.html">
                        <i class="bi bi-person"></i>
                        <span class="nav-label">Profile</span>
                    </a>
                </li>
            </ul>
        </div>
    </nav>

    <!-- Tier Information Modal -->
    <div class="modal fade" id="tierInfoModal" tabindex="-1" aria-labelledby="tierInfoModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content bd-modal-content">
                <div class="modal-body p-0">
                    <div class="text-end p-2">
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="text-center px-4 pb-2">
                        <div class="mb-4">
                            <div class="bd-icon-wrapper volunteer-success-light">
                                <i class="bi bi-award-fill text-success"></i>
                            </div>
                        </div>
                        <h5 class="mb-3 fw-bold">Volunteer Tiers</h5>
                    </div>
                    
                    <div class="px-4 pb-4">
                        <div class="tier-level d-flex align-items-center p-3 mb-3 rounded bg-light">
                            <div class="tier-badge me-3">
                                <i class="bi bi-circle-fill text-secondary"></i>
                            </div>
                            <div class="tier-details flex-grow-1">
                                <h6 class="mb-1 fw-bold">Bronze Tier</h6>
                                <p class="mb-0 text-muted small">0-15 points</p>
                            </div>
                            <div class="tier-status">
                                <span class="badge bg-secondary rounded-pill">Basic</span>
                            </div>
                        </div>
                        
                        <div class="tier-level d-flex align-items-center p-3 mb-3 rounded" style="background-color: rgba(108, 117, 125, 0.1);">
                            <div class="tier-badge me-3">
                                <i class="bi bi-circle-fill" style="color: #C0C0C0;"></i>
                            </div>
                            <div class="tier-details flex-grow-1">
                                <h6 class="mb-1 fw-bold">Silver Tier</h6>
                                <p class="mb-0 text-muted small">16-40 points</p>
                            </div>
                            <div class="tier-status">
                                <span class="badge rounded-pill" style="background-color: #C0C0C0;">Current</span>
                            </div>
                        </div>
                        
                        <div class="tier-level d-flex align-items-center p-3 mb-3 rounded bg-light">
                            <div class="tier-badge me-3">
                                <i class="bi bi-circle-fill" style="color: #FFD700;"></i>
                            </div>
                            <div class="tier-details flex-grow-1">
                                <h6 class="mb-1 fw-bold">Gold Tier</h6>
                                <p class="mb-0 text-muted small">41-75 points</p>
                            </div>
                            <div class="tier-status">
                                <span class="badge bg-primary rounded-pill">Premium</span>
                            </div>
                        </div>
                        
                        <div class="tier-level d-flex align-items-center p-3 rounded bg-light">
                            <div class="tier-badge me-3">
                                <i class="bi bi-gem text-success"></i>
                            </div>
                            <div class="tier-details flex-grow-1">
                                <h6 class="mb-1 fw-bold">Diamond Tier</h6>
                                <p class="mb-0 text-muted small">76+ points</p>
                            </div>
                            <div class="tier-status">
                                <span class="badge bg-success rounded-pill">Elite</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Redeem Points Modal -->
    <div class="modal fade" id="redeemModal" tabindex="-1" aria-labelledby="redeemModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content bd-modal-content">
                <div class="modal-body p-0">
                    <div class="text-end p-2">
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="text-center px-4 pb-2">
                        <div class="mb-4">
                            <div class="bd-icon-wrapper volunteer-primary-light">
                                <i class="bi bi-gift text-primary"></i>
                            </div>
                        </div>
                        <h5 class="mb-3 fw-bold">Redeem Your Points</h5>
                        <p class="text-muted mb-4">You have <span class="fw-bold text-success">28 points</span> available to redeem</p>
                    </div>
                    
                    <div class="px-4 pb-4">
                        <div class="reward-item d-flex align-items-center p-3 mb-3 rounded bg-light">
                            <div class="reward-icon me-3 volunteer-primary-light rounded-circle p-2">
                                <i class="bi bi-shop text-primary"></i>
                            </div>
                            <div class="reward-details flex-grow-1">
                                <h6 class="mb-1 fw-bold">Featured Listing</h6>
                                <p class="mb-0 text-muted small">Feature your product or market for 1 week</p>
                            </div>
                            <div class="reward-points">
                                <button class="btn btn-sm btn-primary rounded-pill px-3">15 pts</button>
                            </div>
                        </div>
                        
                        <div class="reward-item d-flex align-items-center p-3 mb-3 rounded bg-light">
                            <div class="reward-icon me-3 volunteer-danger-light rounded-circle p-2">
                                <i class="bi bi-percent text-danger"></i>
                            </div>
                            <div class="reward-details flex-grow-1">
                                <h6 class="mb-1 fw-bold">10% Marketplace Discount</h6>
                                <p class="mb-0 text-muted small">One-time discount on your next purchase</p>
                            </div>
                            <div class="reward-points">
                                <button class="btn btn-sm btn-primary rounded-pill px-3">20 pts</button>
                            </div>
                        </div>
                        
                        <div class="reward-item d-flex align-items-center p-3 mb-3 rounded bg-light">
                            <div class="reward-icon me-3 volunteer-warning-light rounded-circle p-2">
                                <i class="bi bi-star text-warning"></i>
                            </div>
                            <div class="reward-details flex-grow-1">
                                <h6 class="mb-1 fw-bold">Premium Badge</h6>
                                <p class="mb-0 text-muted small">Special badge for your profile</p>
                            </div>
                            <div class="reward-points">
                                <button class="btn btn-sm btn-primary rounded-pill px-3">25 pts</button>
                            </div>
                        </div>
                        
                        <div class="reward-item d-flex align-items-center p-3 rounded bg-light opacity-50">
                            <div class="reward-icon me-3 volunteer-success-light rounded-circle p-2">
                                <i class="bi bi-trophy text-success"></i>
                            </div>
                            <div class="reward-details flex-grow-1">
                                <h6 class="mb-1 fw-bold">Exclusive Community Event</h6>
                                <p class="mb-0 text-muted small">Access to invite-only marketplace events</p>
                            </div>
                            <div class="reward-points">
                                <button class="btn btn-sm btn-secondary rounded-pill px-3" disabled>50 pts</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast for Copy Success -->
    <div class="position-fixed bottom-0 end-0 p-3 toast-container">
        <div id="toast" class="toast align-items-center text-white border-0" role="alert" aria-live="assertive" aria-atomic="true">
            <div class="d-flex">
                <div class="toast-body">
                    <i class="bi bi-check-circle me-2"></i>
                    <span id="toastMessage">Referral code copied to clipboard!</span>
                </div>
                <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
            </div>
        </div>
    </div>

    <script src="lib/bootstrap/bootstrap.bundle.min.js"></script>
    <script src="js/app.js"></script>
    <script src="js/toast.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Copy referral code functionality
            const copyBtn = document.getElementById('copyBtn');
            const referralCode = document.getElementById('referralCode');
            
            copyBtn.addEventListener('click', function() {
                referralCode.select();
                document.execCommand('copy');
                showToast('Referral code copied to clipboard!', 'success');
            });
            
            // Function to show toast message
            function showToast(message, type = 'success') {
                const toast = document.getElementById('toast');
                const toastMessage = document.getElementById('toastMessage');
                
                // Set message and type
                toastMessage.textContent = message;
                toast.classList.remove('bg-success', 'bg-danger', 'bg-primary');
                
                if (type === 'success') {
                    toast.classList.add('bg-success');
                } else if (type === 'error') {
                    toast.classList.add('bg-danger');
                } else if (type === 'info') {
                    toast.classList.add('bg-primary');
                }
                
                // Create Bootstrap toast instance and show
                const bsToast = new bootstrap.Toast(toast);
                bsToast.show();
            }
            
            // Redeem points functionality
            const redeemBtns = document.querySelectorAll('.reward-points .btn-primary');
            
            redeemBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    // Get the points value from the button text
                    const pointsText = this.textContent.trim();
                    const pointsRequired = parseInt(pointsText);
                    
                    // Get current points
                    const currentPoints = 28; // Hard-coded for demo
                    
                    // Get reward name
                    const rewardName = this.closest('.reward-item').querySelector('h6').textContent;
                    
                    // Check if user has enough points
                    if (currentPoints >= pointsRequired) {
                        // Show confirmation modal - using alert for simplicity, but could be a custom modal
                        if (confirm(`Are you sure you want to redeem ${rewardName} for ${pointsRequired} points?`)) {
                            showToast(`Successfully redeemed ${rewardName}!`, 'success');
                            
                            // Close the modal after redemption
                            const redeemModal = bootstrap.Modal.getInstance(document.getElementById('redeemModal'));
                            redeemModal.hide();
                            
                            // In a real app, you would update the points in the database and refresh the UI
                            // This is just a simulation
                            setTimeout(() => {
                                window.location.reload();
                            }, 2000);
                        }
                    } else {
                        showToast(`You don't have enough points to redeem this reward.`, 'error');
                    }
                });
            });
        });
    </script>
</body>

</html>
