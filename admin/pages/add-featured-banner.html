<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#8a3647">
    <title>Bazar Dor - Add New Featured Banner</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="../../lib/bootstrap/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="../../lib/bootstrap-icons/bootstrap-icons.min.css">
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/select2-bootstrap-5-theme@1.3.0/dist/select2-bootstrap-5-theme.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="../css/admin-style.css">
</head>
<body>
    <div class="admin-container">
        <!-- Sidebar -->
        <aside class="admin-sidebar">
            <div class="admin-sidebar-header">
                <h3>Bazar Dor</h3>
                <span>Admin Panel</span>
            </div>
            <div class="admin-profile">
                <div class="admin-avatar">
                    <i class="bi bi-person-circle"></i>
                </div>
                <div class="admin-info">
                    <h6>Admin User</h6>
                    <p>Administrator</p>
                </div>
            </div>
            <nav class="admin-nav">
                <div class="admin-sidebar-section">
                    <div class="admin-sidebar-section-title">Main</div>
                    <ul>
                        <li>
                            <a href="dashboard.html">
                                <i class="bi bi-speedometer2"></i>
                                <span>Dashboard</span>
                            </a>
                        </li>
                    </ul>
                </div>
                
                <div class="admin-sidebar-section">
                    <div class="admin-sidebar-section-title">Catalog</div>
                    <ul>
                        <li class="dropdown">
                            <a href="#">
                                <i class="bi bi-box-seam"></i>
                                <span>Products</span>
                            </a>
                            <div class="dropdown-menu">
                                <a href="products.html" class="dropdown-item">
                                    <i class="bi bi-list-ul"></i> All Products
                                </a>
                                <a href="add-product.html" class="dropdown-item">
                                    <i class="bi bi-plus-circle"></i> Add Product
                                </a>
                            </div>
                        </li>
                        <li class="dropdown">
                            <a href="#">
                                <i class="bi bi-tags"></i>
                                <span>Categories</span>
                            </a>
                            <div class="dropdown-menu">
                                <a href="categories.html" class="dropdown-item">
                                    <i class="bi bi-list-ul"></i> All Categories
                                </a>
                                <a href="add-category.html" class="dropdown-item">
                                    <i class="bi bi-plus-circle"></i> Add Category
                                </a>
                            </div>
                        </li>
                        <li class="dropdown">
                            <a href="#">
                                <i class="bi bi-shop"></i>
                                <span>Markets</span>
                            </a>
                            <div class="dropdown-menu">
                                <a href="markets.html" class="dropdown-item">
                                    <i class="bi bi-list-ul"></i> All Markets
                                </a>
                                <a href="add-market.html" class="dropdown-item">
                                    <i class="bi bi-plus-circle"></i> Add Market
                                </a>
                            </div>
                        </li>
                    </ul>
                </div>
                
                <div class="admin-sidebar-section">
                    <div class="admin-sidebar-section-title">Marketing</div>
                    <ul>
                        <li class="dropdown">
                            <a href="#">
                                <i class="bi bi-images"></i>
                                <span>Banners</span>
                            </a>
                            <div class="dropdown-menu">
                                <a href="banners.html" class="dropdown-item">
                                    <i class="bi bi-list-ul"></i> All Banners
                                </a>
                                <a href="add-banner.html" class="dropdown-item">
                                    <i class="bi bi-plus-circle"></i> Add Banner
                                </a>
                            </div>
                        </li>
                        <li class="dropdown active">
                            <a href="#">
                                <i class="bi bi-card-image"></i>
                                <span>Featured Banners</span>
                            </a>
                            <div class="dropdown-menu" style="display: block;">
                                <a href="featured-banners.html" class="dropdown-item">
                                    <i class="bi bi-list-ul"></i> All Featured Banners
                                </a>
                                <a href="add-featured-banner.html" class="dropdown-item active">
                                    <i class="bi bi-plus-circle"></i> Add Featured Banner
                                </a>
                            </div>
                        </li>
                    </ul>
                </div>

                <div class="admin-sidebar-section">
                    <div class="admin-sidebar-section-title">Users</div>
                    <ul>
                        <li>
                            <a href="users.html">
                                <i class="bi bi-people"></i>
                                <span>Users</span>
                            </a>
                        </li>
                        <li>
                            <a href="contributions.html">
                                <i class="bi bi-graph-up-arrow"></i>
                                <span>Contributions</span>
                            </a>
                        </li>
                    </ul>
                </div>

                <div class="admin-sidebar-section">
                    <div class="admin-sidebar-section-title">Reports</div>
                    <ul>
                        <li>
                            <a href="market-reports.html">
                                <i class="bi bi-shop-window"></i>
                                <span>Market Reports</span>
                            </a>
                        </li>
                        <li>
                            <a href="product-reports.html">
                                <i class="bi bi-box2"></i>
                                <span>Product Reports</span>
                            </a>
                        </li>
                        <li>
                            <a href="price-reports.html">
                                <i class="bi bi-graph-up"></i>
                                <span>Price Analytics</span>
                            </a>
                        </li>
                        <li>
                            <a href="user-reports.html">
                                <i class="bi bi-people-fill"></i>
                                <span>User Analytics</span>
                            </a>
                        </li>
                    </ul>
                </div>
                
                <div class="admin-sidebar-section">
                    <div class="admin-sidebar-section-title">Configuration</div>
                    <ul>
                        <li>
                            <a href="settings.html">
                                <i class="bi bi-gear"></i>
                                <span>Settings</span>
                            </a>
                        </li>
                    </ul>
                </div>
            </nav>
            <div class="admin-sidebar-footer">
                <a href="../../index.html" class="btn btn-outline-light btn-sm">
                    <i class="bi bi-box-arrow-left"></i> Back to Site
                </a>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="admin-main">
            <!-- Top Header -->
            <header class="admin-header">
                <div class="admin-header-left">
                    <button class="toggle-sidebar-btn">
                        <i class="bi bi-list"></i>
                    </button>
                    <h4>Add New Featured Banner</h4>
                </div>
                <div class="admin-header-right">
                    <div class="admin-actions">
                        <a href="#" class="admin-notification">
                            <i class="bi bi-bell"></i>
                            <span class="badge">3</span>
                        </a>
                        <div class="admin-dropdown">
                            <button class="admin-dropdown-toggle">
                                <i class="bi bi-person-circle"></i>
                                <span>Admin</span>
                                <i class="bi bi-chevron-down"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </header>

            <!-- Add Featured Banner Content -->
            <div class="admin-content">
                <!-- Page Header -->
                <div class="admin-content-header">
                    <div class="d-flex justify-content-between align-items-center mb-4">
                        <h5><i class="bi bi-plus-circle me-2"></i>Add New Featured Banner</h5>
                        <a href="featured-banners.html" class="btn btn-outline-admin">
                            <i class="bi bi-arrow-left me-1"></i>Back to Featured Banners
                        </a>
                    </div>
                </div>
                
                <!-- Add Featured Banner Form Card -->
                <div class="admin-card mb-4">
                    <div class="admin-card-header">
                        <h6>Featured Banner Information</h6>
                    </div>
                    <div class="admin-card-body">
                        <form id="addFeaturedBannerForm">
                            <div class="row g-3">
                                <div class="col-md-6">
                                    <label for="bannerTitle" class="form-label">Banner Title <span class="text-danger">*</span></label>
                                    <input type="text" class="form-control" id="bannerTitle" placeholder="Enter banner title" required>
                                </div>
                                <div class="col-md-6">
                                    <label for="bannerSubTagline" class="form-label">Sub Tagline <span class="text-danger">*</span></label>
                                    <input type="text" class="form-control" id="bannerSubTagline" placeholder="Enter sub tagline" required>
                                    <small class="text-muted">Short description text that appears below the title</small>
                                </div>
                            </div>
                            
                            <div class="row g-3 mt-2">
                                <div class="col-md-6">
                                    <label for="bannerTag" class="form-label">Tag <span class="text-danger">*</span></label>
                                    <select class="form-select banner-select" id="bannerTag" required>
                                        <option value="">Select a tag</option>
                                        <option value="New">New</option>
                                        <option value="Hot">Hot</option>
                                        <option value="Special">Special</option>
                                        <option value="Sale">Sale</option>
                                        <option value="Limited">Limited</option>
                                    </select>
                                    <small class="text-muted">Tag that appears in the top-left of the banner</small>
                                </div>
                                <div class="col-md-6">
                                    <label for="bannerColor" class="form-label">Card Color <span class="text-danger">*</span></label>
                                    <select class="form-select banner-select" id="bannerColor" required>
                                        <option value="">Select a color</option>
                                        <option value="blue">Blue</option>
                                        <option value="pink">Pink</option>
                                        <option value="purple">Purple</option>
                                        <option value="teal">Teal</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="row g-3 mt-2">
                                <div class="col-md-6">
                                    <label for="bannerIcon" class="form-label">Icon <span class="text-danger">*</span></label>
                                    <div class="input-group">
                                        <span class="input-group-text">bi-</span>
                                        <input type="text" class="form-control" id="bannerIcon" placeholder="Enter Bootstrap icon name" required>
                                    </div>
                                    <small class="text-muted">Enter Bootstrap icon name (without the 'bi-' prefix)</small>
                                </div>
                                <div class="col-md-6">
                                    <label for="bannerStatus" class="form-label">Status <span class="text-danger">*</span></label>
                                    <select class="form-select banner-select" id="bannerStatus" required>
                                        <option value="active">Active</option>
                                        <option value="inactive">Inactive</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="row g-3 mt-2">
                                <div class="col-md-6">
                                    <label for="bannerLink" class="form-label">URL Link <span class="text-danger">*</span></label>
                                    <input type="text" class="form-control" id="bannerLink" placeholder="Enter URL for banner click" required>
                                </div>
                                <div class="col-md-6">
                                    <label for="bannerLinkText" class="form-label">URL Text <span class="text-danger">*</span></label>
                                    <input type="text" class="form-control" id="bannerLinkText" placeholder="Enter button text" required>
                                    <small class="text-muted">Text that appears on the button (e.g., "Shop Now")</small>
                                </div>
                            </div>
                            
                            <div class="row g-3 mt-2">
                                <div class="col-md-6">
                                    <label for="bannerPosition" class="form-label">Position <span class="text-danger">*</span></label>
                                    <input type="number" class="form-control" id="bannerPosition" min="1" value="1" required>
                                    <small class="text-muted">Position determines the order of appearance (1 is first)</small>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
                
                <!-- Banner Preview Card -->
                <div class="admin-card mb-4">
                    <div class="admin-card-header">
                        <h6>Banner Preview</h6>
                    </div>
                    <div class="admin-card-body">
                        <div class="row">
                            <div class="col-lg-6">
                                <div class="featured-banner-preview">
                                    <div id="previewBanner" class="promo-banner-card promo-banner-blue rounded-4 shadow-sm">
                                        <div class="p-3 text-white">
                                            <div class="d-flex justify-content-between align-items-start mb-4">
                                                <div>
                                                    <span id="previewTag" class="badge bg-white text-primary rounded-pill px-3 mb-2">New</span>
                                                    <h5 id="previewTitle" class="mb-1">Banner Title</h5>
                                                    <p id="previewTagline" class="mb-0 small opacity-75">Banner sub tagline text</p>
                                                </div>
                                                <div class="promo-icon rounded-circle bg-white p-2 d-flex align-items-center justify-content-center">
                                                    <i id="previewIcon" class="bi bi-basket2-fill text-primary fs-5"></i>
                                                </div>
                                            </div>
                                            <button id="previewButton" class="btn btn-sm btn-light rounded-pill px-3">Shop Now</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div class="preview-info">
                                    <h6 class="mb-3">Preview Information</h6>
                                    <p class="text-muted">This is how your featured banner will appear on the app. The preview updates as you fill in the form.</p>
                                    <ul class="list-unstyled">
                                        <li><i class="bi bi-info-circle me-2"></i> Featured banners appear in the "Featured Offers" section</li>
                                        <li><i class="bi bi-info-circle me-2"></i> Use short, catchy titles and descriptions</li>
                                        <li><i class="bi bi-info-circle me-2"></i> Choose icons that represent the offer clearly</li>
                                        <li><i class="bi bi-info-circle me-2"></i> Select colors that match your brand guidelines</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Action Buttons -->
                <div class="row mb-4">
                    <div class="col-12 d-flex justify-content-end">
                        <button type="button" class="btn btn-secondary me-2" id="cancelBtn">Cancel</button>
                        <button type="button" class="btn btn-admin" id="saveBannerBtn">Save Featured Banner</button>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Scripts -->
    <script src="../../lib/bootstrap/bootstrap.bundle.min.js"></script>
    <script src="../../lib/jquery/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
    <script src="../js/admin.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize Select2
            $(document).ready(function() {
                $('.banner-select').select2({
                    theme: 'bootstrap-5',
                    width: '100%'
                });
            });

            // Form elements
            const bannerTitle = document.getElementById('bannerTitle');
            const bannerSubTagline = document.getElementById('bannerSubTagline');
            const bannerTag = document.getElementById('bannerTag');
            const bannerColor = document.getElementById('bannerColor');
            const bannerIcon = document.getElementById('bannerIcon');
            const bannerLink = document.getElementById('bannerLink');
            const bannerLinkText = document.getElementById('bannerLinkText');
            
            // Preview elements
            const previewBanner = document.getElementById('previewBanner');
            const previewTag = document.getElementById('previewTag');
            const previewTitle = document.getElementById('previewTitle');
            const previewTagline = document.getElementById('previewTagline');
            const previewIcon = document.getElementById('previewIcon');
            const previewButton = document.getElementById('previewButton');
            
            // Update preview on input changes
            bannerTitle.addEventListener('input', updatePreview);
            bannerSubTagline.addEventListener('input', updatePreview);
            bannerTag.addEventListener('change', updatePreview);
            bannerColor.addEventListener('change', updatePreview);
            bannerIcon.addEventListener('input', updatePreview);
            bannerLinkText.addEventListener('input', updatePreview);
            
            function updatePreview() {
                // Update title
                if (bannerTitle.value) {
                    previewTitle.textContent = bannerTitle.value;
                } else {
                    previewTitle.textContent = 'Banner Title';
                }
                
                // Update tagline
                if (bannerSubTagline.value) {
                    previewTagline.textContent = bannerSubTagline.value;
                } else {
                    previewTagline.textContent = 'Banner sub tagline text';
                }
                
                // Update tag
                if (bannerTag.value) {
                    previewTag.textContent = bannerTag.value;
                    
                    // Update tag color based on selection
                    previewTag.className = 'badge bg-white rounded-pill px-3 mb-2';
                    
                    switch(bannerTag.value) {
                        case 'Hot':
                            previewTag.classList.add('text-danger');
                            break;
                        case 'Special':
                            previewTag.classList.add('text-purple');
                            break;
                        case 'New':
                        default:
                            previewTag.classList.add('text-primary');
                            break;
                    }
                }
                
                // Update color
                if (bannerColor.value) {
                    previewBanner.className = 'promo-banner-card rounded-4 shadow-sm';
                    previewBanner.classList.add('promo-banner-' + bannerColor.value);
                    
                    // Update icon color to match banner
                    previewIcon.className = 'bi fs-5';
                    
                    switch(bannerColor.value) {
                        case 'pink':
                            previewIcon.classList.add('text-danger');
                            break;
                        case 'purple':
                            previewIcon.classList.add('text-purple');
                            break;
                        case 'teal':
                            previewIcon.classList.add('text-info');
                            break;
                        case 'blue':
                        default:
                            previewIcon.classList.add('text-primary');
                            break;
                    }
                }
                
                // Update icon
                if (bannerIcon.value) {
                    previewIcon.className = previewIcon.className.replace(/bi-\w+(-\w+)*/, 'bi-' + bannerIcon.value);
                }
                
                // Update button text
                if (bannerLinkText.value) {
                    previewButton.textContent = bannerLinkText.value;
                } else {
                    previewButton.textContent = 'Shop Now';
                }
            }
            
            // Form submission
            const saveBannerBtn = document.getElementById('saveBannerBtn');
            const cancelBtn = document.getElementById('cancelBtn');
            
            saveBannerBtn.addEventListener('click', function() {
                const form = document.getElementById('addFeaturedBannerForm');
                if (form.checkValidity()) {
                    // Here you would normally submit the form data to the server
                    alert('Featured banner saved successfully!');
                    // Redirect to featured banners list
                    window.location.href = 'featured-banners.html';
                } else {
                    form.reportValidity();
                }
            });
            
            cancelBtn.addEventListener('click', function() {
                window.location.href = 'featured-banners.html';
            });
        });
    </script>
    
    <style>
        /* Custom styles for featured banner preview */
        .featured-banner-preview {
            max-width: 300px;
            margin: 0 auto;
        }
        
        .text-purple {
            color: #764ba2 !important;
        }
        
        /* Ensure the preview maintains proper dimensions */
        .promo-banner-card {
            min-width: 280px;
            max-width: 280px;
        }
    </style>
</body>
</html>