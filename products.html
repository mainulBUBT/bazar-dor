<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#AB4459">
    <title>Products - Bazar Dor</title>
    <link href="lib/bootstrap/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="lib/bootstrap-icons/bootstrap-icons.min.css">
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="css/theme.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/pagination.css">
    <link rel="stylesheet" href="css/time-update.css">
    <link rel="stylesheet" href="css/category-pills.css">
    <link rel="stylesheet" href="css/product-cards.css">
    <link rel="icon" type="image/png" sizes="192x192" href="icons/icon-192x192.png">
    <link rel="apple-touch-icon" href="icons/icon-192x192.png">
    <style>
        /* Enhanced styles for market page */
        :root {
            --primary-rgb: 171, 68, 89;
        }
        
        .app-header {
            /* No border-radius needed anymore */
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        
        .market-combined-card {
            position: relative;
            z-index: 10;
            margin-top: 0;
            border-radius: 0 !important;
        }
        
        /* Fix for tab icons - change from block to flex layout */
        .market-tabs .nav-link {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 0.75rem 0.5rem;
            color: var(--bs-gray-600);
            border-bottom: 2px solid transparent;
            background-color: transparent !important;
            transition: all 0.2s ease;
        }
        
        .market-tabs .nav-link i {
            font-size: 1.25rem;
            margin-bottom: 4px;
            display: block;
        }
        
        /* Selected tab style - only bottom border */
        .market-tabs .nav-link.active {
            color: var(--primary-color);
            border-bottom: 2px solid var(--primary-color);
            background-color: transparent !important;
            font-weight: 600;
        }
        
        /* Fix for horizontal layout in tabs (used for product & review tabs) */
        .market-tabs .nav-link.horizontal-layout {
            flex-direction: row;
            align-items: center;
            justify-content: center;
        }
        
        .market-tabs .nav-link.horizontal-layout i {
            margin-bottom: 0;
            margin-right: 0.5rem;
        }
        
        /* Sort dropdown fixes */
        .dropdown-item {
            display: flex !important;
            align-items: center !important;
        }
        
        .dropdown-item i {
            display: inline-block !important;
            font-size: 1rem;
        }
        
        /* Ensure sort button has consistent icon display */
        .filter-container .btn i {
            display: inline-block;
            font-size: 0.9rem;
        }
        
        .product-card {
            transition: all 0.25s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        
        .product-card:hover {
            transform: translateY(-5px) scale(1.01);
        }
        
        .product-card .favorite-btn {
            opacity: 0.85;
            transform: scale(0.9);
            transition: all 0.2s ease;
        }
        
        .product-card:hover .favorite-btn {
            opacity: 1;
            transform: scale(1);
        }
        
        .filter-chips {
            padding-left: 0.5rem;
            padding-right: 0.5rem;
        }
    </style>
</head>
<body class="bg-light market-items-page">
    <header class="app-header bg-primary">
        <div class="container">
            <div class="d-flex justify-content-between align-items-center py-2">
                <button class="btn text-white p-0" onclick="history.back()">
                    <i class="bi bi-arrow-left fs-4"></i>
                </button>
                <h5 class="text-white mb-0">Products</h5>
                <div>
                    <a href="notifications.html" class="btn text-white p-0 position-relative me-3" title="Notifications">
                        <i class="bi bi-bell-fill fs-4"></i>
                        <span class="position-absolute top-50 start-100 translate-middle badge rounded-pill bg-danger notification-badge">
                            3
                            <span class="visually-hidden">unread notifications</span>
                        </span>
                    </a>
                </div>
            </div>
            
            <!-- Search bar (initially hidden) - Mobile Optimized -->
            <div id="search-bar" class="bg-white rounded-pill d-flex align-items-center px-3 py-2 mb-2 shadow-sm" style="display: none;">
                <i class="bi bi-search text-primary me-2 fs-5"></i>
                <input type="text" class="form-control border-0 py-1 bg-transparent" id="products-search" placeholder="Search products...">
                <button class="btn p-1 touch-action" id="search-close">
                    <i class="bi bi-x-circle text-muted fs-5"></i>
                </button>
            </div>
        </div>
    </header>

    <!-- Combined Market Info Card with Tabs -->
    <div class="container mt-2 mb-5 pb-5">
        <div class="card border-0 shadow-sm market-combined-card">
            <!-- Market Info Section -->
            <div class="card-body py-3">
                    <div class="d-flex align-items-center">
                    <div class="me-3" style="width: 60px; height: 60px; border-radius: 10px; overflow: hidden; box-shadow: 0 3px 8px rgba(0,0,0,0.1);">
                        <img src="https://images.unsplash.com/photo-1533900298318-6b8da08a523e?q=80&w=200&auto=format&fit=crop" 
                             alt="Dhaka Central Market" class="w-100 h-100 object-fit-cover">
                    </div>
                    <div class="flex-grow-1">
                        <h5 class="mb-1 fw-bold">Dhaka Central Market</h5>
                        <div class="d-flex align-items-center small text-muted">
                            <i class="bi bi-geo-alt me-1"></i>
                            <span>Gulshan, Dhaka</span>
                            <span class="mx-2">â€¢</span>
                            <span class="badge bg-success rounded-pill py-1 px-2 d-flex align-items-center">
                                <i class="bi bi-clock me-1"></i> Open
                            </span>
                            <span class="ms-2">2.4 km away</span>
                    </div>
                </div>
            </div>
        </div>
        
            <!-- Tab Navigation -->
            <div class="card-footer bg-white border-0 pt-0 pb-3">
                <ul class="nav nav-tabs border-0 equal-tabs market-tabs" id="marketTabs" role="tablist">
            <li class="nav-item flex-fill text-center" role="presentation">
                        <a class="nav-link horizontal-layout active" id="products-tab" data-bs-toggle="tab" href="#products-content" role="tab" aria-controls="products-content" aria-selected="true">
                            <i class="bi bi-grid me-2 text-primary"></i>Products
                </a>
            </li>
            <li class="nav-item flex-fill text-center" role="presentation">
                        <a class="nav-link horizontal-layout" id="reviews-tab" data-bs-toggle="tab" href="#reviews-content" role="tab" aria-controls="reviews-content" aria-selected="false">
                            <i class="bi bi-star me-2"></i>Reviews
                </a>
            </li>
        </ul>
            </div>
        </div>
        
        <!-- Tab Content -->
        <div class="tab-content mt-3" id="marketTabsContent">
            <!-- Products Grid View -->
            <div class="tab-pane fade show active" id="products-content" role="tabpanel" aria-labelledby="products-tab">
                <!-- Modern Filter - No Background -->
                <div class="filter-container mb-3">
                    <div class="d-flex justify-content-between align-items-center mb-2">
                        <h6 class="mb-0 fw-bold">Products</h6>
                        <div class="dropdown">
                            <button class="btn btn-sm btn-light rounded-pill py-1 px-3 d-flex align-items-center" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                                <i class="bi bi-funnel-fill me-2 text-primary"></i><span>Sort</span>
                            </button>
                            <ul class="dropdown-menu dropdown-menu-end shadow-sm">
                                <li><a class="dropdown-item d-flex align-items-center" href="#"><i class="bi bi-sort-down me-2 text-primary"></i>Price: High to Low</a></li>
                                <li><a class="dropdown-item d-flex align-items-center" href="#"><i class="bi bi-sort-up me-2 text-primary"></i>Price: Low to High</a></li>
                                <li><a class="dropdown-item d-flex align-items-center" href="#"><i class="bi bi-arrow-repeat me-2 text-primary"></i>Recently Updated</a></li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="filter-chips d-flex overflow-auto pb-2 hide-scrollbar snap-scroll">
                        <div class="filter-chip active me-2" data-filter="all">
                            <span class="filter-icon"><i class="bi bi-grid"></i></span>
                            <span class="filter-text">All</span>
                        </div>
                        <div class="filter-chip me-2" data-filter="vegetables">
                            <span class="filter-icon"><i class="bi bi-basket2"></i></span>
                            <span class="filter-text">Vegetables</span>
                        </div>
                        <div class="filter-chip me-2" data-filter="fruits">
                            <span class="filter-icon"><i class="bi bi-apple"></i></span>
                            <span class="filter-text">Fruits</span>
                        </div>
                        <div class="filter-chip me-2" data-filter="meat">
                            <span class="filter-icon"><i class="bi bi-egg-fried"></i></span>
                            <span class="filter-text">Meat</span>
                        </div>
                        <div class="filter-chip me-2" data-filter="fish">
                            <span class="filter-icon"><i class="bi bi-water"></i></span>
                            <span class="filter-text">Fish</span>
                        </div>
                        <div class="filter-chip me-2" data-filter="spices">
                            <span class="filter-icon"><i class="bi bi-flower1"></i></span>
                            <span class="filter-text">Spices</span>
                        </div>
            </div>
        </div>

        <!-- Products List -->
                <div id="products-list" class="row g-1 mx-n2 mb-5">
            <!-- Product Card Template - Mobile Optimized -->
                    <div class="col-6 col-md-4 col-lg-3 mb-1 px-1" data-product-type="vegetables">
                        <div class="card product-card border-0 shadow-sm h-100 touch-action" data-product-id="1">
                            <div class="position-relative">
                                <div class="product-image-wrapper">
                                <img src="https://images.unsplash.com/photo-1546094096-0df4bcaaa337?q=80&w=400&auto=format&fit=crop" 
                                         class="card-img-top" alt="Fresh Tomatoes" loading="lazy">
                                    <span class="badge bg-success position-absolute top-0 end-0 m-1">
                                        <i class="bi bi-arrow-down-short"></i>à§³5
                                    </span>
                                    <button class="btn position-absolute top-0 start-0 m-1 rounded-circle bg-white shadow-sm p-1 favorite-btn">
                                        <i class="bi bi-heart text-danger"></i>
                                </button>
                            </div>
                        </div>
                            <div class="card-body p-2 d-flex flex-column">
                                <h5 class="card-title fs-6 text-truncate">Fresh Tomatoes</h5>
                                <p class="card-subtitle small text-muted text-truncate">Vegetables</p>
                                <div class="d-flex justify-content-between align-items-center mt-auto">
                                    <div>
                                        <span class="text-primary price-tag">à§³80</span>
                                        <span class="text-muted price-unit">/ kg</span>
                                    </div>
                                    <span class="small text-muted time-update"><i class="bi bi-arrow-repeat me-1"></i>2h ago</span>
                                </div>
                                <div class="mt-1">
                                    <button class="btn btn-sm btn-outline-primary w-100 rounded-pill update-price-btn" data-bs-toggle="modal" data-bs-target="#updatePriceModal" data-product-id="1" data-product-name="Fresh Tomatoes" data-product-price="80">
                                        <i class="bi bi-currency-exchange me-1"></i>Update Price
                                    </button>
                        </div>
                    </div>
                </div>
            </div>

                    <!-- Fruits Card -->
                    <div class="col-6 col-md-4 col-lg-3 mb-1 px-1" data-product-type="fruits">
                        <div class="card product-card border-0 shadow-sm h-100 touch-action" data-product-id="2">
                            <div class="position-relative">
                                <div class="product-image-wrapper">
                                <img src="https://images.unsplash.com/photo-1553279768-865429fa0078?q=80&w=400&auto=format&fit=crop" 
                                         class="card-img-top" alt="Sweet Mango" loading="lazy">
                                    <span class="badge bg-danger position-absolute top-0 end-0 m-1">
                                        <i class="bi bi-arrow-up-short"></i>à§³10
                                    </span>
                                    <button class="btn position-absolute top-0 start-0 m-1 rounded-circle bg-white shadow-sm p-1 favorite-btn">
                                        <i class="bi bi-heart text-danger"></i>
                                </button>
                            </div>
                        </div>
                            <div class="card-body p-2 d-flex flex-column">
                                <h5 class="card-title fs-6 text-truncate">Sweet Mango</h5>
                                <p class="card-subtitle small text-muted text-truncate">Fruits</p>
                                <div class="d-flex justify-content-between align-items-center mt-auto">
                                    <div>
                                        <span class="text-primary price-tag">à§³120</span>
                                        <span class="text-muted price-unit">/ kg</span>
                                    </div>
                                    <span class="small text-muted time-update"><i class="bi bi-arrow-repeat me-1"></i>1h ago</span>
                                </div>
                                <div class="mt-1">
                                    <button class="btn btn-sm btn-outline-primary w-100 rounded-pill update-price-btn" data-bs-toggle="modal" data-bs-target="#updatePriceModal" data-product-id="2" data-product-name="Sweet Mango" data-product-price="120">
                                        <i class="bi bi-currency-exchange me-1"></i>Update Price
                                    </button>
                        </div>
                    </div>
                </div>
            </div>

                    <!-- More Vegetables Card -->
                    <div class="col-6 col-md-4 col-lg-3 mb-1 px-1" data-product-type="vegetables">
                        <div class="card product-card border-0 shadow-sm h-100 touch-action" data-product-id="6">
                            <div class="position-relative">
                                <div class="product-image-wrapper">
                                <img src="https://images.unsplash.com/photo-1518977676601-b53f82aba655?q=80&w=400&auto=format&fit=crop" 
                                         class="card-img-top" alt="Fresh Potatoes" loading="lazy">
                                    <span class="badge bg-success position-absolute top-0 end-0 m-1">
                                        <i class="bi bi-arrow-down-short"></i>à§³3
                                    </span>
                                    <button class="btn position-absolute top-0 start-0 m-1 rounded-circle bg-white shadow-sm p-1 favorite-btn">
                                        <i class="bi bi-heart text-danger"></i>
                                </button>
                            </div>
                        </div>
                            <div class="card-body p-2 d-flex flex-column">
                                <h5 class="card-title fs-6 text-truncate">Fresh Potatoes</h5>
                                <p class="card-subtitle small text-muted text-truncate">Vegetables</p>
                                <div class="d-flex justify-content-between align-items-center mt-auto">
                                    <div>
                                        <span class="text-primary price-tag">à§³45</span>
                                        <span class="text-muted price-unit">/ kg</span>
                                    </div>
                                    <span class="small text-muted time-update"><i class="bi bi-arrow-repeat me-1"></i>10m ago</span>
                                </div>
                                <div class="mt-1">
                                    <button class="btn btn-sm btn-outline-primary w-100 rounded-pill update-price-btn" data-bs-toggle="modal" data-bs-target="#updatePriceModal" data-product-id="6" data-product-name="Fresh Potatoes" data-product-price="45">
                                        <i class="bi bi-currency-exchange me-1"></i>Update Price
                                    </button>
                        </div>
                    </div>
                </div>
            </div>

                    <!-- More Fruits Card -->
                    <div class="col-6 col-md-4 col-lg-3 mb-1 px-1" data-product-type="fruits">
                        <div class="card product-card border-0 shadow-sm h-100 touch-action" data-product-id="7">
                            <div class="position-relative">
                                <div class="product-image-wrapper">
                                <img src="https://images.unsplash.com/photo-1603833665858-e61d17a86224?q=80&w=400&auto=format&fit=crop" 
                                         class="card-img-top" alt="Ripe Bananas" loading="lazy">
                                    <span class="badge bg-success position-absolute top-0 end-0 m-1">
                                        <i class="bi bi-arrow-down-short"></i>à§³5
                                    </span>
                                    <button class="btn position-absolute top-0 start-0 m-1 rounded-circle bg-white shadow-sm p-1 favorite-btn">
                                        <i class="bi bi-heart text-danger"></i>
                                </button>
                            </div>
                        </div>
                            <div class="card-body p-2 d-flex flex-column">
                                <h5 class="card-title fs-6 text-truncate">Ripe Bananas</h5>
                                <p class="card-subtitle small text-muted text-truncate">Fruits</p>
                                <div class="d-flex justify-content-between align-items-center mt-auto">
                                    <div>
                                        <span class="text-primary price-tag">à§³65</span>
                                        <span class="text-muted price-unit">/ dozen</span>
                                    </div>
                                    <span class="small text-muted time-update"><i class="bi bi-arrow-repeat me-1"></i>25m ago</span>
                                </div>
                                <div class="mt-1">
                                    <button class="btn btn-sm btn-outline-primary w-100 rounded-pill update-price-btn" data-bs-toggle="modal" data-bs-target="#updatePriceModal" data-product-id="7" data-product-name="Ripe Bananas" data-product-price="65">
                                        <i class="bi bi-currency-exchange me-1"></i>Update Price
                                    </button>
                        </div>
                    </div>
                </div>
            </div>

                    <!-- More Meat Card -->
                    <div class="col-6 col-md-4 col-lg-3 mb-1 px-1" data-product-type="meat">
                        <div class="card product-card border-0 shadow-sm h-100 touch-action" data-product-id="8">
                            <div class="position-relative">
                                <div class="product-image-wrapper">
                                <img src="https://images.unsplash.com/photo-1607623814075-e51df1bdc82f?q=80&w=400&auto=format&fit=crop" 
                                         class="card-img-top" alt="Beef" loading="lazy">
                                    <span class="badge bg-danger position-absolute top-0 end-0 m-1">
                                        <i class="bi bi-arrow-up-short"></i>à§³25
                                    </span>
                                    <button class="btn position-absolute top-0 start-0 m-1 rounded-circle bg-white shadow-sm p-1 favorite-btn">
                                        <i class="bi bi-heart text-danger"></i>
                                </button>
                            </div>
                        </div>
                            <div class="card-body p-2 d-flex flex-column">
                                <h5 class="card-title fs-6 text-truncate">Premium Beef</h5>
                                <p class="card-subtitle small text-muted text-truncate">Meat</p>
                                <div class="d-flex justify-content-between align-items-center mt-auto">
                                    <div>
                                        <span class="text-primary price-tag">à§³850</span>
                                        <span class="text-muted price-unit">/ kg</span>
                                    </div>
                                    <span class="small text-muted time-update"><i class="bi bi-arrow-repeat me-1"></i>5m ago</span>
                                </div>
                                <div class="mt-1">
                                    <button class="btn btn-sm btn-outline-primary w-100 rounded-pill update-price-btn" data-bs-toggle="modal" data-bs-target="#updatePriceModal" data-product-id="8" data-product-name="Premium Beef" data-product-price="850">
                                        <i class="bi bi-currency-exchange me-1"></i>Update Price
                                    </button>
                        </div>
                    </div>
                </div>
            </div>

                    <!-- More Vegetables Card -->
                    <div class="col-6 col-md-4 col-lg-3 mb-1 px-1" data-product-type="vegetables">
                        <div class="card product-card border-0 shadow-sm h-100 touch-action" data-product-id="11">
                            <div class="position-relative">
                                <div class="product-image-wrapper">
                                    <img src="https://images.unsplash.com/photo-1447175008436-054170c2e979?q=80&w=400&auto=format&fit=crop" 
                                         class="card-img-top" alt="Fresh Carrots">
                                    <span class="badge bg-success position-absolute top-0 end-0 m-1">
                                        <i class="bi bi-arrow-down-short"></i>à§³8
                                    </span>
                                    <button class="btn position-absolute top-0 start-0 m-1 rounded-circle bg-white shadow-sm p-1 favorite-btn">
                                        <i class="bi bi-heart text-danger"></i>
                                </button>
                            </div>
                        </div>
                            <div class="card-body p-2 d-flex flex-column">
                                <h5 class="card-title fs-6 text-truncate">Fresh Carrots</h5>
                                <p class="card-subtitle small text-muted text-truncate">Vegetables</p>
                                <div class="d-flex justify-content-between align-items-center mt-auto">
                                    <div>
                                        <span class="text-primary price-tag">à§³55</span>
                                        <span class="text-muted price-unit">/ kg</span>
                                    </div>
                                    <span class="small text-muted time-update"><i class="bi bi-arrow-repeat me-1"></i>15m ago</span>
                                </div>
                                <div class="mt-1">
                                    <button class="btn btn-sm btn-outline-primary w-100 rounded-pill update-price-btn" data-bs-toggle="modal" data-bs-target="#updatePriceModal" data-product-id="11" data-product-name="Fresh Carrots" data-product-price="55">
                                        <i class="bi bi-currency-exchange me-1"></i>Update Price
                                    </button>
                        </div>
                    </div>
                </div>
            </div>

                    <!-- More Fruits Card -->
                    <div class="col-6 col-md-4 col-lg-3 mb-1 px-1" data-product-type="fruits">
                        <div class="card product-card border-0 shadow-sm h-100 touch-action" data-product-id="15">
                            <div class="position-relative">
                                <div class="product-image-wrapper">
                                    <img src="https://images.unsplash.com/photo-1464965911861-746a04b4bca6?q=80&w=400&auto=format&fit=crop" 
                                         class="card-img-top" alt="Fresh Strawberries">
                                    <span class="badge bg-danger position-absolute top-0 end-0 m-1">
                                        <i class="bi bi-arrow-up-short"></i>à§³10
                                    </span>
                                    <button class="btn position-absolute top-0 start-0 m-1 rounded-circle bg-white shadow-sm p-1 favorite-btn">
                                    <i class="bi bi-heart text-danger"></i>
                                </button>
                            </div>
                        </div>
                            <div class="card-body p-2 d-flex flex-column">
                                <h5 class="card-title fs-6 text-truncate">Fresh Strawberries</h5>
                                <p class="card-subtitle small text-muted text-truncate">Fruits</p>
                                <div class="d-flex justify-content-between align-items-center mt-auto">
                                    <div>
                                        <span class="text-primary price-tag">à§³220</span>
                                        <span class="text-muted price-unit">/ kg</span>
                                    </div>
                                    <span class="small text-muted time-update"><i class="bi bi-arrow-repeat me-1"></i>15m ago</span>
                                </div>
                                <div class="mt-1">
                                    <button class="btn btn-sm btn-outline-primary w-100 rounded-pill update-price-btn" data-bs-toggle="modal" data-bs-target="#updatePriceModal" data-product-id="15" data-product-name="Fresh Strawberries" data-product-price="220">
                                        <i class="bi bi-currency-exchange me-1"></i>Update Price
                                    </button>
                        </div>
                    </div>
                </div>
            </div>

                    <!-- More Fish Card -->
                    <div class="col-6 col-md-4 col-lg-3 mb-1 px-1" data-product-type="fish">
                        <div class="card product-card border-0 shadow-sm h-100 touch-action" data-product-id="9">
                            <div class="position-relative">
                                <div class="product-image-wrapper">
                                    <img src="https://images.unsplash.com/photo-1534948216015-843149f72be3?q=80&w=400&auto=format&fit=crop" 
                                         class="card-img-top" alt="Fresh Hilsa" loading="lazy">
                                    <span class="badge bg-danger position-absolute top-0 end-0 m-1">
                                        <i class="bi bi-arrow-up-short"></i>à§³30
                                    </span>
                                    <button class="btn position-absolute top-0 start-0 m-1 rounded-circle bg-white shadow-sm p-1 favorite-btn">
                                    <i class="bi bi-heart text-danger"></i>
                                </button>
                            </div>
                        </div>
                            <div class="card-body p-2 d-flex flex-column">
                                <h5 class="card-title fs-6 text-truncate">Fresh Hilsa</h5>
                                <p class="card-subtitle small text-muted text-truncate">Fish</p>
                                <div class="d-flex justify-content-between align-items-center mt-auto">
                                    <div>
                                        <span class="text-primary price-tag">à§³1200</span>
                                        <span class="text-muted price-unit">/ kg</span>
                                    </div>
                                    <span class="small text-muted time-update"><i class="bi bi-arrow-repeat me-1"></i>20m ago</span>
                                </div>
                                <div class="mt-1">
                                    <button class="btn btn-sm btn-outline-primary w-100 rounded-pill update-price-btn" data-bs-toggle="modal" data-bs-target="#updatePriceModal" data-product-id="9" data-product-name="Fresh Hilsa" data-product-price="1200">
                                        <i class="bi bi-currency-exchange me-1"></i>Update Price
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- More Spices Card -->
                    <div class="col-6 col-md-4 col-lg-3 mb-1 px-1" data-product-type="spices">
                        <div class="card product-card border-0 shadow-sm h-100 touch-action" data-product-id="10">
                            <div class="position-relative">
                                <div class="product-image-wrapper">
                                    <img src="https://images.unsplash.com/photo-1615485290382-441e4d049cb5?q=80&w=400&auto=format&fit=crop" 
                                         class="card-img-top" alt="Black Pepper">
                                    <span class="badge bg-success position-absolute top-0 end-0 m-1">
                                        <i class="bi bi-arrow-down-short"></i>à§³12
                                    </span>
                                    <button class="btn position-absolute top-0 start-0 m-1 rounded-circle bg-white shadow-sm p-1 favorite-btn">
                                        <i class="bi bi-heart text-danger"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="card-body p-2 d-flex flex-column">
                                <h5 class="card-title fs-6 text-truncate">Black Pepper</h5>
                                <p class="card-subtitle small text-muted text-truncate">Spices</p>
                                <div class="d-flex justify-content-between align-items-center mt-auto">
                                    <div>
                                        <span class="text-primary price-tag">à§³250</span>
                                        <span class="text-muted price-unit">/ kg</span>
                                    </div>
                                    <span class="small text-muted time-update"><i class="bi bi-arrow-repeat me-1"></i>30m ago</span>
                                </div>
                                <div class="mt-1">
                                    <button class="btn btn-sm btn-outline-primary w-100 rounded-pill update-price-btn" data-bs-toggle="modal" data-bs-target="#updatePriceModal" data-product-id="10" data-product-name="Black Pepper" data-product-price="250">
                                        <i class="bi bi-currency-exchange me-1"></i>Update Price
                                    </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Fish Card -->
                    <div class="col-6 col-md-4 col-lg-3 mb-1 px-1" data-product-type="fish">
                        <div class="card product-card border-0 shadow-sm h-100 touch-action" data-product-id="12">
                            <div class="position-relative">
                                <div class="product-image-wrapper">
                                <img src="https://images.unsplash.com/photo-1615141982883-c7ad0e69fd62?q=80&w=400&auto=format&fit=crop" 
                                         class="card-img-top" alt="Fresh Salmon">
                                    <span class="badge bg-danger position-absolute top-0 end-0 m-1">
                                        <i class="bi bi-arrow-up-short"></i>à§³20
                                    </span>
                                    <button class="btn position-absolute top-0 start-0 m-1 rounded-circle bg-white shadow-sm p-1 favorite-btn">
                                    <i class="bi bi-heart text-danger"></i>
                                </button>
                            </div>
                        </div>
                            <div class="card-body p-2 d-flex flex-column">
                                <h5 class="card-title fs-6 text-truncate">Fresh Salmon</h5>
                                <p class="card-subtitle small text-muted text-truncate">Fish</p>
                                <div class="d-flex justify-content-between align-items-center mt-auto">
                                    <div>
                                        <span class="text-primary price-tag">à§³950</span>
                                        <span class="text-muted price-unit">/ kg</span>
                                    </div>
                                    <span class="small text-muted time-update"><i class="bi bi-arrow-repeat me-1"></i>30m ago</span>
                                </div>
                                <div class="mt-1">
                                    <button class="btn btn-sm btn-outline-primary w-100 rounded-pill update-price-btn" data-bs-toggle="modal" data-bs-target="#updatePriceModal" data-product-id="12" data-product-name="Fresh Salmon" data-product-price="950">
                                        <i class="bi bi-currency-exchange me-1"></i>Update Price
                                    </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Meat Card -->
                    <div class="col-6 col-md-4 col-lg-3 mb-1 px-1" data-product-type="meat">
                        <div class="card product-card border-0 shadow-sm h-100 touch-action" data-product-id="13">
                            <div class="position-relative">
                                <div class="product-image-wrapper">
                                <img src="https://images.unsplash.com/photo-1560781290-7dc94c0f8f4f?q=80&w=400&auto=format&fit=crop" 
                                         class="card-img-top" alt="Chicken Breast">
                                    <span class="badge bg-success position-absolute top-0 end-0 m-1">
                                        <i class="bi bi-arrow-down-short"></i>à§³15
                                    </span>
                                    <button class="btn position-absolute top-0 start-0 m-1 rounded-circle bg-white shadow-sm p-1 favorite-btn">
                                    <i class="bi bi-heart text-danger"></i>
                                </button>
                            </div>
                        </div>
                            <div class="card-body p-2 d-flex flex-column">
                                <h5 class="card-title fs-6 text-truncate">Chicken Breast</h5>
                                <p class="card-subtitle small text-muted text-truncate">Meat</p>
                                <div class="d-flex justify-content-between align-items-center mt-auto">
                                    <div>
                                        <span class="text-primary price-tag">à§³380</span>
                                        <span class="text-muted price-unit">/ kg</span>
                                    </div>
                                    <span class="small text-muted time-update"><i class="bi bi-arrow-repeat me-1"></i>45m ago</span>
                                </div>
                                <div class="mt-1">
                                    <button class="btn btn-sm btn-outline-primary w-100 rounded-pill update-price-btn" data-bs-toggle="modal" data-bs-target="#updatePriceModal" data-product-id="13" data-product-name="Chicken Breast" data-product-price="380">
                                        <i class="bi bi-currency-exchange me-1"></i>Update Price
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Pagination - Mobile Optimized -->
                    <nav aria-label="Product navigation" class="my-3">
                        <ul class="pagination pagination-sm justify-content-center">
                            <li class="page-item disabled">
                                <a class="page-link rounded-circle mx-1 shadow-sm d-flex align-items-center justify-content-center" href="#" aria-label="Previous" style="width: 35px; height: 35px;">
                                    <i class="bi bi-chevron-left"></i>
                                </a>
                            </li>
                            <li class="page-item active"><a class="page-link rounded-circle mx-1 shadow-sm d-flex align-items-center justify-content-center" href="#" style="width: 35px; height: 35px;">1</a></li>
                            <li class="page-item"><a class="page-link rounded-circle mx-1 shadow-sm d-flex align-items-center justify-content-center" href="#" style="width: 35px; height: 35px;">2</a></li>
                            <li class="page-item"><a class="page-link rounded-circle mx-1 shadow-sm d-flex align-items-center justify-content-center" href="#" style="width: 35px; height: 35px;">3</a></li>
                            <li class="page-item">
                                <a class="page-link rounded-circle mx-1 shadow-sm d-flex align-items-center justify-content-center" href="#" aria-label="Next" style="width: 35px; height: 35px;">
                                    <i class="bi bi-chevron-right"></i>
                                </a>
                            </li>
                        </ul>
                    </nav>
                </div>
            </div>

            <!-- Reviews -->
            <div class="tab-pane fade" id="reviews-content" role="tabpanel" aria-labelledby="reviews-tab">
                <div class="container pt-3">
                    <!-- Reviews Stats -->
                    <div class="card border-0 shadow-sm mb-3">
                        <div class="card-body">
                            <div class="row align-items-center">
                                <div class="col-4 text-center border-end">
                                    <h1 class="display-4 fw-bold text-primary">4.7</h1>
                                    <div class="text-warning mb-2">
                                        <i class="bi bi-star-fill"></i>
                                        <i class="bi bi-star-fill"></i>
                                        <i class="bi bi-star-fill"></i>
                                        <i class="bi bi-star-fill"></i>
                                        <i class="bi bi-star-half"></i>
                            </div>
                                    <p class="text-muted small mb-0">Based on 218 reviews</p>
                        </div>
                        <div class="col-8">
                                    <div class="d-flex align-items-center mb-2">
                                        <span class="me-2 small">5</span>
                                        <div class="progress flex-grow-1" style="height: 8px;">
                                            <div class="progress-bar bg-success" role="progressbar" style="width: 75%" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100"></div>
                                </div>
                                        <span class="ms-2 small text-muted">75%</span>
                                    </div>
                                    <div class="d-flex align-items-center mb-2">
                                        <span class="me-2 small">4</span>
                                        <div class="progress flex-grow-1" style="height: 8px;">
                                            <div class="progress-bar bg-success" role="progressbar" style="width: 18%" aria-valuenow="18" aria-valuemin="0" aria-valuemax="100"></div>
                                </div>
                                        <span class="ms-2 small text-muted">18%</span>
                                </div>
                                    <div class="d-flex align-items-center mb-2">
                                        <span class="me-2 small">3</span>
                                        <div class="progress flex-grow-1" style="height: 8px;">
                                            <div class="progress-bar bg-warning" role="progressbar" style="width: 5%" aria-valuenow="5" aria-valuemin="0" aria-valuemax="100"></div>
                            </div>
                                        <span class="ms-2 small text-muted">5%</span>
                        </div>
                                    <div class="d-flex align-items-center mb-2">
                                        <span class="me-2 small">2</span>
                                        <div class="progress flex-grow-1" style="height: 8px;">
                                            <div class="progress-bar bg-danger" role="progressbar" style="width: 1%" aria-valuenow="1" aria-valuemin="0" aria-valuemax="100"></div>
                    </div>
                                        <span class="ms-2 small text-muted">1%</span>
                                    </div>
                                    <div class="d-flex align-items-center">
                                        <span class="me-2 small">1</span>
                                        <div class="progress flex-grow-1" style="height: 8px;">
                                            <div class="progress-bar bg-danger" role="progressbar" style="width: 1%" aria-valuenow="1" aria-valuemin="0" aria-valuemax="100"></div>
                                        </div>
                                        <span class="ms-2 small text-muted">1%</span>
                                    </div>
                                </div>
                            </div>
                </div>
            </div>

                    <!-- Write Review Button -->
                    <div class="d-grid gap-2 mb-3">
                        <button class="btn btn-primary" type="button">
                            <i class="bi bi-pencil-square me-2"></i> Write a Review
                                </button>
                            </div>
                    
                    <!-- Review Item -->
                    <div class="card border-0 shadow-sm mb-3">
                        <div class="card-body">
                            <div class="d-flex mb-2">
                                <div class="me-2">
                                    <div class="avatar-circle bg-primary text-white">AR</div>
                        </div>
                                    <div>
                                    <h6 class="mb-0 fw-bold">Ahmed Rahman</h6>
                                    <div class="text-warning small">
                                        <i class="bi bi-star-fill"></i>
                                        <i class="bi bi-star-fill"></i>
                                        <i class="bi bi-star-fill"></i>
                                        <i class="bi bi-star-fill"></i>
                                        <i class="bi bi-star-fill"></i>
                                    </div>
                                    <span class="text-muted small">2 days ago</span>
                                </div>
                                </div>
                            <p class="mb-0">Great market with fresh produce! The vendors are friendly and prices are reasonable. I appreciate how clean they keep everything. Will continue to shop here weekly.</p>
                            </div>
                        </div>

                    <!-- Review Item -->
                    <div class="card border-0 shadow-sm mb-3">
                        <div class="card-body">
                            <div class="d-flex mb-2">
                                <div class="me-2">
                                    <div class="avatar-circle bg-info text-white">SJ</div>
                    </div>
                                <div>
                                    <h6 class="mb-0 fw-bold">Sarah Johnson</h6>
                                    <div class="text-warning small">
                                        <i class="bi bi-star-fill"></i>
                                        <i class="bi bi-star-fill"></i>
                                        <i class="bi bi-star-fill"></i>
                                        <i class="bi bi-star-fill"></i>
                                        <i class="bi bi-star"></i>
                                    </div>
                                    <span class="text-muted small">1 week ago</span>
                                </div>
                            </div>
                            <p class="mb-0">I love the variety of fresh fruits and vegetables available here. The spice section is excellent too! Only reason for 4 stars is that it can get very crowded on weekends.</p>
                </div>
            </div>

                    <!-- Review Item -->
                    <div class="card border-0 shadow-sm mb-3">
                        <div class="card-body">
                            <div class="d-flex mb-2">
                                <div class="me-2">
                                    <div class="avatar-circle bg-success text-white">MH</div>
                                </div>
                                <div>
                                    <h6 class="mb-0 fw-bold">Mohammad Hasan</h6>
                                    <div class="text-warning small">
                                        <i class="bi bi-star-fill"></i>
                                        <i class="bi bi-star-fill"></i>
                                        <i class="bi bi-star-fill"></i>
                                        <i class="bi bi-star-fill"></i>
                                        <i class="bi bi-star-half"></i>
                                    </div>
                                    <span class="text-muted small">2 weeks ago</span>
                                </div>
                            </div>
                            <p class="mb-0">Best fish selection in the area! Always fresh and prices are competitive. The staff is knowledgeable about what's in season. Highly recommend their hilsa fish!</p>
                        </div>
        </div>

                    <!-- View More Button -->
                    <div class="d-grid gap-2 mb-4">
                        <button class="btn btn-outline-primary" type="button">
                            View More Reviews
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <nav class="navbar fixed-bottom navbar-dark">
        <div class="container-fluid justify-content-center p-0">
            <ul class="navbar-nav flex-row bottom-nav">
                <li class="nav-item mx-0">
                    <a class="nav-link d-flex flex-column align-items-center py-2" href="index.html">
                        <i class="bi bi-house fs-4 mb-1"></i>
                        <div class="nav-label small fw-medium">Home</div>
                    </a>
                </li>
                <li class="nav-item mx-0">
                    <a class="nav-link d-flex flex-column align-items-center py-2" href="markets.html">
                        <i class="bi bi-shop fs-4 mb-1"></i>
                        <div class="nav-label small fw-medium">Markets</div>
                    </a>
                </li>
                <li class="nav-item mx-0">
                    <a class="nav-link d-flex flex-column align-items-center py-2" href="favorites.html">
                        <i class="bi bi-heart fs-4 mb-1"></i>
                        <div class="nav-label small fw-medium">Favorites</div>
                    </a>
                </li>
                <li class="nav-item mx-0">
                    <a class="nav-link d-flex flex-column align-items-center py-2" href="profile.html">
                        <i class="bi bi-person fs-4 mb-1"></i>
                        <div class="nav-label small fw-medium">Profile</div>
                    </a>
                </li>
            </ul>
        </div>
    </nav>

    <!-- Update Price Modal -->
    <div class="modal fade" id="updatePriceModal" tabindex="-1" aria-labelledby="updatePriceModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content" style="border-radius: 20px; overflow: hidden; box-shadow: 0 10px 30px rgba(0,0,0,0.1);">
                <div class="modal-body p-0">
                    <!-- Close button in top-right corner -->
                    <div class="text-end p-2">
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                    
                    <div class="text-center px-4 pb-2">
                        <!-- Product Icon -->
                        <div class="mb-4">
                            <div class="icon-wrapper mx-auto" style="width: 90px; height: 90px; background-color: rgba(var(--primary-rgb), 0.1); border-radius: 50%; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 15px rgba(var(--primary-rgb), 0.2);">
                                <i class="bi bi-bag-fill text-primary" style="font-size: 3rem;"></i>
                            </div>
                        </div>
                        
                        <!-- Product Info -->
                        <h4 id="productName" class="mb-2 fw-bold">Product Name</h4>
                        <div class="d-flex align-items-center justify-content-center mb-4">
                            <span class="badge bg-light text-primary me-2 px-3 py-2">
                                <i class="bi bi-tag-fill me-1"></i>Current Price
                            </span>
                            <span id="currentPrice" class="text-primary fs-4 fw-bold">à§³0</span>
                            </div>
                        
                        <!-- Price Input with Numeric Keypad -->
                        <div class="price-input-container mb-4">
                            <label for="newPrice" class="form-label fw-medium mb-2">Enter New Price (à§³)</label>
                            <div class="input-group input-group-lg">
                                <span class="input-group-text bg-light border-0 rounded-start-pill">à§³</span>
                                <input type="number" inputmode="numeric" pattern="[0-9]*" class="form-control form-control-lg text-center fw-bold border-0 bg-light rounded-end-pill" id="newPrice" placeholder="0">
                            </div>
                        </div>
                        
                        <!-- Pricing Suggestions -->
                        <div class="suggested-prices mb-4">
                            <p class="text-muted small mb-2">Tap to adjust price quickly:</p>
                            <div class="d-flex flex-wrap justify-content-center gap-2">
                                <button class="btn btn-sm btn-light rounded-pill price-suggestion px-3 py-2" data-price-diff="-5">-à§³5</button>
                                <button class="btn btn-sm btn-light rounded-pill price-suggestion px-3 py-2" data-price-diff="-10">-à§³10</button>
                                <button class="btn btn-sm btn-light rounded-pill price-suggestion px-3 py-2" data-price-diff="-20">-à§³20</button>
                                <button class="btn btn-sm btn-light rounded-pill price-suggestion px-3 py-2" data-price-diff="+5">+à§³5</button>
                                <button class="btn btn-sm btn-light rounded-pill price-suggestion px-3 py-2" data-price-diff="+10">+à§³10</button>
                                <button class="btn btn-sm btn-light rounded-pill price-suggestion px-3 py-2" data-price-diff="+20">+à§³20</button>
                </div>
                        </div>
                        
                        <!-- Hidden Input for Product ID -->
                        <input type="hidden" id="productId" value="">
                        
                        <!-- Action Buttons -->
                        <div class="d-grid gap-2 mb-4">
                            <button type="button" class="btn btn-primary py-3 rounded-pill fw-bold" id="updatePriceSubmit">
                                <i class="bi bi-check-circle-fill me-2"></i>Update Price
                    </button>
                            <button type="button" class="btn btn-outline-secondary py-2 rounded-pill" data-bs-dismiss="modal">
                        <i class="bi bi-x-circle me-2"></i>Cancel
                    </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script src="js/app.js"></script>
    <script src="lib/bootstrap/bootstrap.bundle.min.js"></script>
    <script src="js/products.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Initialize all tooltips
            const tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
            tooltipTriggerList.map(function (tooltipTriggerEl) {
                return new bootstrap.Tooltip(tooltipTriggerEl)
            });

            // Filter functionality
            const filterChips = document.querySelectorAll('.filter-chip');
            const productCards = document.querySelectorAll('[data-product-type]');

            filterChips.forEach(chip => {
                chip.addEventListener('click', function() {
                    const filter = this.getAttribute('data-filter');
                    
                    // Remove active class from all chips
                    filterChips.forEach(c => c.classList.remove('active'));
                    
                    // Add active class to clicked chip
                    this.classList.add('active');
                    
                    // Show/hide product cards based on filter
                productCards.forEach(card => {
                        if (filter === 'all' || card.getAttribute('data-product-type') === filter) {
                            card.closest('.col-6').style.display = '';
                        } else {
                            card.closest('.col-6').style.display = 'none';
                        }
                    });
                });
            });

            // Favorite button functionality - simplified demo
            document.querySelectorAll('.favorite-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const icon = this.querySelector('i');
                    if (icon.classList.contains('bi-heart')) {
                        icon.classList.replace('bi-heart', 'bi-heart-fill');
                        this.classList.replace('btn-outline-danger', 'btn-danger');
                    } else {
                        icon.classList.replace('bi-heart-fill', 'bi-heart');
                        this.classList.replace('btn-danger', 'btn-outline-danger');
                    }
                });
            });

            // Update price modal - simple demo
            const updateBtns = document.querySelectorAll('.update-price-btn');
            updateBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    const productName = this.getAttribute('data-product-name');
                    const productPrice = this.getAttribute('data-product-price');
                    const productId = this.getAttribute('data-product-id');
                    
                    document.getElementById('productName').textContent = productName;
                    document.getElementById('currentPrice').textContent = 'à§³' + productPrice;
                    document.getElementById('newPrice').value = productPrice;
                    document.getElementById('productId').value = productId;
                });
            });

            // Price suggestion buttons
            const priceSuggestions = document.querySelectorAll('.price-suggestion');
            priceSuggestions.forEach(btn => {
                btn.addEventListener('click', function() {
                    const priceDiff = this.getAttribute('data-price-diff');
                    const newPriceInput = document.getElementById('newPrice');
                    const currentValue = parseInt(newPriceInput.value) || 0;
                    
                    // Parse the price difference (can be positive or negative)
                    let diff = parseInt(priceDiff);
                    
                    // Update the input value
                    newPriceInput.value = currentValue + diff;
                    
                    // Visual feedback - brief highlight
                    this.classList.add('btn-primary', 'text-white');
                    setTimeout(() => {
                        this.classList.remove('btn-primary', 'text-white');
                    }, 300);
                    });
                });
                
            // Demo form submission - no actual functionality needed
            const updatePriceSubmitBtn = document.getElementById('updatePriceSubmit');
            if (updatePriceSubmitBtn) {
                updatePriceSubmitBtn.addEventListener('click', function() {
                    const modal = bootstrap.Modal.getInstance(document.getElementById('updatePriceModal'));
                    if (modal) modal.hide();
                    
                    // Could show a success message here in a real app
                });
            }
        });
    </script>
</body>

</html>